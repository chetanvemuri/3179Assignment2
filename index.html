<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Tertiary Education & GDP per Capita — FIT3179 Assignment 2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    html, body { 
      margin:0; 
      padding:0; 
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; 
      background:#e7f2fb; /* light blue background */
      color:#111; 
      text-align:center; 
    }
    header { 
      background:#fff; 
      border-bottom:1px solid #ddd; 
      padding:30px 0; 
      box-shadow:0 2px 4px rgba(0,0,0,.05); 
    }
    h1 { font-size:2rem; margin:0; }
    p.sub { color:#666; margin:5px 0 0; }
    main { max-width:1200px; margin:40px auto; padding:0 16px; }
    section { margin:40px 0; }
    h2 { font-size:1.5rem; margin-bottom:16px; }
    .card, .card-wide { 
      background:#fff; 
      border-radius:12px; 
      box-shadow:0 2px 8px rgba(0,0,0,.08); 
      padding:24px; 
      margin:0 auto; 
      overflow:hidden; 
    }
    .card { max-width:860px; }
    .card-wide { max-width:1300px; }
    #vis, #vis-education-gdp { width:100%; margin:0 auto; min-height:560px; max-width:860px; }
    .dual-chart { display:flex; flex-wrap:nowrap; justify-content:space-between; align-items:flex-start; gap:40px; }
    .chart { flex:1; min-width:480px; max-width:100%; }
    #vis .vega-embed svg, #vis-education-gdp .vega-embed svg { width:auto !important; height:auto !important; max-width:100%; }
    .vega-embed, .vega-embed > div, .vega-embed svg, .vega-embed canvas { width:100% !important; height:auto; display:block; margin:0 auto !important; }
    @media (max-width:1000px){ .dual-chart{flex-wrap:wrap;} .chart{min-width:320px;} .card-wide{max-width:860px;} }
  </style>
</head>
<body>
  <header>
    <h1>Tertiary Education & GDP per Capita Around the World</h1>
    <p class="sub">FIT3179 Assignment 2 — Vega-Lite Visualisations</p>
  </header>

  <main>
    <section>
      <p style="margin-top:15px;color:#666;text-align: justify;">
        Living in Australia, it is easy to ignore the immense opportunities citizens are given to educate themselves and pursue a 
        pathway unique to each individual. Having been born into such a system, these luxuries are often taken for granted under the 
        assumption that this is just how the world operates. However, this couldn’t be further from the truth. Billions of people 
        live in a world where their pathways and options are restricted as they do not have the resources to pursue such dreams. 
        This can be explored through tertiary education completion rates across countries.
      </p>
      <div class="card">
        <div id="vis" aria-label="Completed tertiary education visualisation"></div>
      </div>
      <p style="margin-top:7px;color:#666;">Figure 1. Percentage of people with tertiary education in different countries.</p>
      <p style="margin-top:10px;color:#666;text-align: justify;">
        Figure 1 above outlines the percentage of people who have completed tertiary education in different countries over the world. 
        It is evident that areas such as Europe and North America have an extremely high rate of tertiary education amongst its citizens 
        whereas areas such as Africa have a very low rate of Tertiary Education. There are many contributing factors which may explain 
        the vast differences in these rates, some of which we will explore later in the page.
      </p>
    </section>

    <section>
      <h2>Economic Prosperity & Education</h2>
      <p style="color:#666;text-align: justify;">
        This section compares the top 20 countries by GDP per capita (left) with their trends in mean years of schooling (right).
        Both visualisations are displayed side by side in a wider layout for easier comparison.
      </p>
      <div class="card-wide">
        <div class="dual-chart">
          <div id="gdpVis" class="chart" aria-label="Top 20 GDP per capita bar chart"></div>
          <div id="schoolVis" class="chart" aria-label="Average years of schooling line chart"></div>
        </div>
      </div>
      <p style="margin-top:7px;color:#666;">Figure 2. Left: Top 20 GDP per capita by year. Right: Mean years of schooling (2000–2025).</p>
      <p style="margin-top:10px;color:#666;text-align: justify;">
        Some key factors which can influence the rates of Tertiary education can be seen in Figure 2, as seen above. On the left-hand side, 
        the top 20 countries with the highest GDP per capita can be observed while on the right side, a selection of the top 20 countries 
        with the highest average time in schooling is provided. Both of these measures are extremely important when assessing how educated 
        a country may be. The GDP data provides an insight into how much resources are available to a nation which they can then use to 
        provide its citizens with the opportunity for high levels of education. The right-hand side demonstrates the average years spent 
        in school for the top 20 countries under the categories. This data can be particularly interesting as it depicts the level of 
        importance that different communities put towards education and is a key indicator of education levels. It is interesting to observe 
        that the countries with the highest percentage of people with tertiary education also appear at the top of these statistics.
      </p>
    </section>

    <section>
      <h2>Percentage of Education vs GDP</h2>
      <p style="color:#666;text-align: justify;">
        This final visualisation examines how much of a country's GDP is allocated toward education. It provides a comparative 
        perspective on economic investment and its relation to national prosperity.
      </p>
      <div class="card">
        <div id="vis-education-gdp" aria-label="Percentage of education spending vs GDP visualisation"></div>
      </div>
      <p style="margin-top:7px;color:#666;">Figure 3. Education spending as a percentage of GDP by country.</p>
      <p style="margin-top:10px;color:#666;text-align: justify;">
        It is also important to note that even if a country doesn’t have the resources available to spend freely on education, they may still 
        value its importance and allocate a higher portion of its resources towards it. The above data reveals the countries with the highest 
        percentage of their GDP put towards education. The top countries once again appear at the top of the tertiary education percentage data.
      </p>
    </section>
  </main>

  <script>
    async function loadSpecInto(selector, url, {forceFit=false, height=null, maxHeight=null} = {}) {
      const el = document.querySelector(selector);
      try {
        const res = await fetch(url, { cache: "no-store" });
        if (!res.ok) throw new Error(`HTTP ${res.status} for ${url}`);
        const spec = await res.json();
        if (forceFit) {
          spec.autosize = { type: "fit", contains: "padding" };
          spec.width = "container";
        }
        if (height) spec.height = height;
        if (maxHeight && typeof spec.height === "number" && spec.height > maxHeight) spec.height = maxHeight;
        await vegaEmbed(selector, spec, { actions: false, renderer: "canvas" });
      } catch (err) {
        el.innerHTML = "<pre style='color:#b00020;white-space:pre-wrap;'>Error loading visualisation:\n" + err + "</pre>";
      }
    }

    loadSpecInto(
      "#vis",
      "https://raw.githubusercontent.com/chetanvemuri/3179Assignment2/refs/heads/main/completed_tertiary_education.vg.json",
      { forceFit: true, height: 620 }
    );

    loadSpecInto(
      "#gdpVis",
      "https://raw.githubusercontent.com/chetanvemuri/3179Assignment2/refs/heads/main/gdp_per_capita.json",
      { forceFit: true, maxHeight: 620 }
    );

    loadSpecInto(
      "#schoolVis",
      "https://raw.githubusercontent.com/chetanvemuri/3179Assignment2/refs/heads/main/average_years_of_schooling.json",
      { forceFit: true, maxHeight: 620 }
    );

    loadSpecInto(
      "#vis-education-gdp",
      "https://raw.githubusercontent.com/chetanvemuri/3179Assignment2/main/percentage_education_per_gdp.json",
      { forceFit: true, height: 600 }
    );
  </script>
</body>
</html>
