<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Tertiary Education & GDP per Capita — FIT3179 Assignment 2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #f7f9fc;
      color: #111;
      text-align: center;
    }

    header {
      background: #ffffff;
      border-bottom: 1px solid #ddd;
      padding: 30px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    h1 { font-size: 2rem; margin: 0; }
    p.sub { color: #666; margin: 5px 0 0; }

    main {
      max-width: 900px;
      margin: 40px auto;
      padding: 0 16px;
    }

    section { margin: 40px 0; }
    h2 { font-size: 1.5rem; margin-bottom: 16px; }

    .card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 24px;
      margin: 0 auto;
      max-width: 860px;
      overflow: hidden;
    }

    /* Single chart containers */
    #vis {
      width: 100%;
      margin: 0 auto;
      min-height: 360px;
    }

    /* Side-by-side charts row */
    .dual-chart {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
    }
    .dual-chart > .chart {
      flex: 1 1 380px;   /* keep current sizing feel */
      max-width: 48%;    /* two per row on desktop */
      min-width: 320px;  /* stack on narrow screens */
    }
    .chart {
      margin: 0 auto;
    }

    /* Help the embedded SVG/canvas respect container width */
    .vega-embed, .vega-embed > div, .vega-embed svg, .vega-embed canvas {
      width: 100% !important;
      height: auto;
      display: block;
      margin: 0 auto !important;
    }
  </style>
</head>

<body>
  <header>
    <h1>Tertiary Education & GDP per Capita Around the World</h1>
    <p class="sub">FIT3179 Assignment 2 — Vega-Lite Visualisations</p>
  </header>

  <main>
    <!-- SECTION 1: Tertiary Education -->
    <section>
      <p style="margin-top:15px;color:#666;text-align: justify;">
        Living in Australia, it is easy to ignore the immense opportunities citizens are given to educate themselves and pursue a 
        pathway unique to each individual. Having been born into such a system, these luxuries are often taken for granted under the 
        assumption that this is just how the world operates. However, this couldn’t be further from the truth. Billions of people 
        live in a world where their pathways and options are restricted as they do not have the resources to pursue such dreams. 
        This can be explored through tertiary education completion rates across countries.
      </p>
      <div class="card">
        <div id="vis" aria-label="Completed tertiary education visualisation"></div>
      </div>
      <p style="margin-top:7px;color:#666;">
        Figure 1. Percentage of people with tertiary education in different countries.
      </p>
    </section>

    <!-- SECTION 2: GDP per Capita + Years of Schooling (side-by-side) -->
    <section>
      <h2>Economic Prosperity & Schooling</h2>
      <p style="color:#666;text-align: justify;">
        Explore top GDP per capita by year (left) alongside the trend in mean years of schooling (right).
      </p>
      <div class="card">
        <div class="dual-chart">
          <div id="gdpVis" class="chart" aria-label="Top 20 GDP per capita bar chart"></div>
          <div id="schoolVis" class="chart" aria-label="Mean years of schooling line chart"></div>
        </div>
      </div>
      <p style="margin-top:7px;color:#666;">
        Figure 2. Left: Top 20 GDP per capita by selected year. Right: Mean years of schooling over time.
      </p>
    </section>
  </main>

  <script>
    // Tertiary education map (existing)
    vegaEmbed("#vis", "completed_tertiary_education.vg.json?v=1", { actions: false })
      .catch(err => {
        document.getElementById('vis').innerHTML =
          "<pre style='color:#b00020;white-space:pre-wrap;'>Error loading tertiary education vis:\n" + err + "</pre>";
      });

    // Left: GDP per capita bar chart (your existing spec)
    vegaEmbed("#gdpVis", "gdp_per_capita.json?v=1", { actions: false })
      .catch(err => {
        document.getElementById('gdpVis').innerHTML =
          "<pre style='color:#b00020;white-space:pre-wrap;'>Error loading GDP vis:\n" + err + "</pre>";
      });

    // Right: Average years of schooling line chart (your provided spec)
    vegaEmbed("#schoolVis", "average_years_of_schooling.json?v=1", { actions: false })
      .catch(err => {
        document.getElementById('schoolVis').innerHTML =
          "<pre style='color:#b00020;white-space:pre-wrap;'>Error loading schooling vis:\n" + err + "</pre>";
      });
  </script>
</body>
</html>
